<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Detail User dan Tiket</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #011f4b;
            color: white;
            font-family: Arial, sans-serif;
            background-image: url('https://www.transparenttextures.com/patterns/diamond-upholstery.png');
        }

        h1 {
            text-align: center;
            margin-top: 20px;
            color: #00d9ff;
        }

        .card {
            margin-bottom: 20px;
            background-color: rgba(0, 38, 77, 0.9);
            border: none;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .card-header {
            background-color: rgba(0, 95, 139, 0.9);
            color: white;
            font-weight: bold;
            text-align: center;
            font-size: 18px;
            border-radius: 12px 12px 0 0;
        }

        .card-body {
            color: #e0f7ff;
        }

        .ticket-box {
            margin-top: 20px;
            padding: 20px;
            border-radius: 12px;
            background-color: rgba(0, 38, 77, 0.9);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .ticket-header {
            font-size: 20px;
            font-weight: bold;
            color: #00d9ff;
            margin-bottom: 20px;
            text-align: center;
        }

        .ticket-detail {
            display: flex;
            gap: 20px;
        }

        .ticket-column {
            flex: 1;
        }

        label {
            color: #00d9ff;
            font-weight: bold;
        }

        .no-ticket {
            text-align: center;
            color: #ff7675;
            font-weight: bold;
            margin-top: 20px;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            color: #00d9ff;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1>Detail User dan Tiket</h1>

        <!-- Detail User -->
        <div class="card">
            <div class="card-header">Detail User</div>
            <div class="card-body">
                <p><strong>Nama:</strong> <span th:text="${buyerDTO.nama}"></span></p>
                <p><strong>Asal Sekolah:</strong> <span th:text="${buyerDTO.asalSekolah}"></span></p>
                <p><strong>No HP:</strong> <span th:text="${buyerDTO.noHp}"></span></p>
                <p><strong>Email:</strong> <span th:text="${buyerDTO.email}"></span></p>
                <p><strong>Status Pembayaran:</strong> <span th:text="${statusPembayaran}"></span> </p>
            </div>
        </div>

        <!-- Tiket Seminar -->
        <div class="ticket-box" th:if="${tiketSeminar != null}">
            <div class="ticket-header">Tiket Seminar</div>
            <div class="ticket-detail">
                <div class="ticket-column">
                    <p><strong>Nama:</strong> <span th:text="${tiketSeminar.nama}"></span></p>
                    <p><strong>Asal Sekolah:</strong> <span th:text="${tiketSeminar.asalSekolah}"></span></p>
                    <p><strong>No HP:</strong> <span th:text="${tiketSeminar.noHp}"></span></p>
                </div>
                <div class="ticket-column">
                    <p><strong>Status:</strong> <span th:text="${tiketSeminar.status}"></span></p>
                    <p><strong>Hadir:</strong> <span th:text="${tiketSeminar.hadir}"></span></p>
                </div>
            </div>
        </div>

        <!-- Tiket TO -->
        <div class="ticket-box" th:if="${tiketTo != null}">
            <div class="ticket-header">Tiket TO</div>
            <div class="ticket-detail">
                <div class="ticket-column">
                    <p><strong>Nama:</strong> <span th:text="${tiketTo.nama}"></span></p>
                    <p><strong>Asal Sekolah:</strong> <span th:text="${tiketTo.asalSekolah}"></span></p>
                    <p><strong>No HP:</strong> <span th:text="${tiketTo.noHp}"></span></p>
                </div>
                <div class="ticket-column">
                    <p><strong>Status:</strong> <span th:text="${tiketTo.status}"></span></p>
                    <p><strong>Username:</strong> 
                        <span th:if="${statusPembayaran == 'menungguKonfirmasi'}" th:text="${statusPembayaran}"></span>
                        <span th:unless="${statusPembayaran == 'menungguKonfirmasi'}" th:text="${tiketTo.username}"></span>
                    </p>
                    <p><strong>Password:</strong> 
                        <span th:if="${statusPembayaran == 'menungguKonfirmasi'}" th:text="${statusPembayaran}"></span>
                        <span th:unless="${statusPembayaran == 'menungguKonfirmasi'}" th:text="${tiketTo.password}"></span>
                    </p>
                </div>
            </div>
        </div>

        <!-- No Ticket Available -->
        <div class="no-ticket" th:if="${tiketSeminar == null && tiketTo == null}">
            Tidak ada tiket yang tersedia untuk user ini.
        </div>

        <div class="text-center mt-4">
            <a href="/" class="btn btn-primary">Kembali</a>
        </div>

        <footer>
            <p>&copy; 2025 Sistem Tiket</p>
        </footer>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</body>
</html>
